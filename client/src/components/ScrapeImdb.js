import React from 'react'
import axios from 'axios'
import { useState, useEffect } from 'react';

async function getMovies () {
    const movieList = ["tt0144084","tt0084787","tt0073195","tt0113277","tt0092099","tt0110912","tt0093437","tt0109707","tt0119174","tt0053291","tt0078748","tt0120382","tt0083907","tt0060177","tt0317219","tt1392190","tt0335266","tt1306980","tt0076759","tt0451279","tt2582802","tt1302006","tt0089218","tt0110357","tt0050083","tt1816518","tt0101507","tt0091042","tt2132285","tt5442430","tt0080179","tt0091064","tt0372784","tt0062138","tt0209144","tt0093773","tt0087928","tt0058461","tt2406566","tt2948356","tt0109040","tt0075314","tt0093818","tt2106476","tt0017136","tt0073629","tt2096673","tt0080684","tt0047478","tt0816711","tt0266697","tt0042531","tt0118799","tt0078243","tt0111161","tt1038988","tt0052357","tt0050356","tt0060177","tt4633694","tt0118571","tt1130988","tt1065073","tt0137523","tt2854926","tt4443658","tt0101272","tt1343092","tt0094625","tt0454876","tt0245429","tt9243946","tt0091209","tt0090605","tt0371746","tt0120630","tt0120784","tt0223897","tt0317705","tt0162650","tt0064276","tt0241527","tt0388795","tt0065126","tt0230600","tt1980209","tt0398286","tt0100157","tt0079501","tt0120737","tt0102685","tt2911666","tt0093779","tt1276104","tt1216475","tt0051201","tt0056869","tt0347149","tt0071222","tt0087332","tt0468569","tt7131622","tt7126948","tt0081494","tt0162222","tt0133093","tt0065079","tt0327597","tt1401143","tt0120863","tt0118880","tt1320253","tt1270797","tt1365519","tt0091763","tt0057115","tt0832266","tt0289043","tt0032138","tt0365748","tt4062536","tt4160708","tt0800320","tt0102057","tt0363547","tt1228705","tt6266538","tt0048021","tt0069293","tt0075148","tt1490017","tt0084516","tt0067334","tt3521164","tt0094737","tt0082198","tt0047396","tt0113568","tt1241317","tt0094721","tt3316960","tt1424381","tt0092991","tt0080761","tt0120815","tt0096256","tt0119282","tt0074285","tt2239822","tt0100263","tt2671706","tt1950186","tt0100405","tt0082340","tt4225622","tt0077631","tt2321549","tt1136608","tt0169547","tt0120768","tt1300854","tt0800369","tt0040522","tt2140479","tt2267998","tt4925292","tt1615160","tt0120586","tt0190332","tt0892769","tt0088247","tt6628394","tt1323594","tt0409847","tt0381061","tt0146316","tt0120903","tt0120903","tt0829150","tt0087995","tt0116213","tt1396484","tt0111503","tt1022603","tt0101761","tt0083767","tt0120601","tt0111512","tt4154756","tt1798188","tt0107290","tt0098621","tt0086066","tt0790724","tt0052365","tt0120657","tt0107688","tt0421715","tt0325980","tt0974015","tt0067992","tt0258463","tt1345836","tt0151137","tt0056172","tt0053804","tt0053221","tt0347618","tt1587310","tt0096446","tt0066921","tt0266543","tt0300556","tt0317740","tt1764651","tt1712261","tt0119094","tt0482571","tt0093870","tt0115277","tt0477347","tt0056937","tt0103644","tt2395427","tt0367594","tt1706620","tt0083658","tt0120338","tt1217209","tt0082971","tt0031968","tt0267626","tt1601913","tt0048280","tt0361748","tt0111257","tt0111257","tt0100802","tt0044121","tt0067140","tt0097351","tt0059578","tt0074860","tt5027774","tt0425112","tt1186830","tt1745960","tt0796366","tt0458339","tt0095953","tt1981677","tt3606752","tt0062622","tt0816692","tt1190080","tt2719848","tt1535109","tt1528100","tt1959490","tt0082186","tt0111438","tt0064505","tt0071571","tt1392170","tt0167261","tt0295297","tt0103874","tt2277860","tt0117060","tt1477834","tt1403865","tt0095705","tt0097428","tt0102926","tt0080684","tt0408236","tt0068646","tt0114709","tt0079844","tt0102494","tt4425200","tt0418279","tt0087469","tt1408101","tt0383574","tt0947798","tt0145487","tt0106308","tt0167260","tt0086837","tt0086837","tt4154664","tt0072308","tt0095016","tt4463894","tt0338013","tt0955308","tt0114898","tt0089530","tt0064665","tt3682448","tt2404233","tt2126355","tt0357413","tt0187078","tt0126029","tt0362227","tt0118583","tt0120915","tt0100403","tt0094291","tt0265086","tt0096487","tt1528854","tt2396589","tt1212450","tt0257044","tt0117571","tt1386588","tt0450259","tt0246578","tt2872718","tt0094889","tt0040746","tt0405159","tt0105236","tt0311113","tt0079817","tt0097165","tt0290334","tt1431045","tt0090728","tt0110148","tt0118771","tt0084805","tt0095765","tt0401792","tt0070909","tt0054047","tt0903624","tt4912910","tt0195685","tt0073486","tt0119654","tt3498820","tt0988045","tt0096928","tt1935179","tt1267297","tt0304141","tt0064115","tt1250777","tt0120363","tt0375679","tt0878804","tt0101540","tt0099685","tt0100758","tt0089029","tt1229238","tt6146586","tt0396269","tt0092890","tt1951264","tt0330373","tt0103639","tt2381941","tt1856101","tt1446714","tt0103064","tt0463854","tt0097576","tt0070034","tt0077869","tt1456635","tt0457430","tt0109830","tt0829482","tt1210166","tt0054135","tt0458525","tt0217869","tt0493464","tt0163651","tt4777008","tt1335975","tt0790736","tt0112281","tt0942385","tt0061852","tt1542344","tt0116282","tt1077258","tt0093105","tt0208092","tt1731141","tt1596350","tt2333784","tt0081505","tt4972582","tt0054331","tt1211956","tt1410063","tt0106770","tt0212985","tt0377092","tt0119217","tt0449059","tt2543164","tt1037705","tt1259528","tt5742374","tt4154796","tt0098439","tt0120804","tt0086960","tt0119396","tt0074853","tt2975590","tt0093409","tt0449088","tt1055369","tt0109506","tt0117500","tt1182345","tt1599348","tt1959563","tt0099365","tt0434409","tt1210819","tt1375666","tt2015381","tt1232829","tt0325703","tt1650062","tt2283362","tt1396484","tt0311289","tt0072288","tt0097322","tt0101764","tt1877832","tt0110478","tt0120616","tt0057163","tt0046816","tt0071853","tt0416449","tt1504320","tt1179933","tt3183660","tt1611224","tt0372183","tt1650554","tt1469304","tt1727824","tt0139654","tt0317919","tt2316204","tt1170358","tt0059183","tt0064116","tt0359950","tt0115798","tt2638144","tt1677720","tt1809398","tt0043949","tt0061578","tt0050825","tt2404435","tt2527336","tt0120755","tt1616195","tt2005151","tt1499658","tt0103074","tt1219289","tt1951265","tt0481499","tt0837562","tt0089822","tt1637725","tt1152836","tt2294449","tt1020072","tt0078346","tt0116365","tt0106918","tt0088763","tt1213663","tt0319262","tt0373889","tt0122690","tt0110413","tt1371111","tt1109624","tt1083452","tt5886046","tt0360717","tt0100994","tt0478970","tt0107362","tt0238380","tt0332452","tt0338751","tt0993842","tt0407887","tt2177771","tt0780653","tt0120591","tt0970179","tt0121164","tt0198781","tt1077368","tt3385516","tt0068713","tt0059885","tt0111282","tt1515091","tt0983193","tt0399295","tt2713180","tt3513498","tt0993846","tt1915581","tt0081455","tt0103759","tt1212428","tt0387564","tt0780536","tt1961175","tt1390411","tt1430626","tt0117951","tt1899353","tt0089885","tt1245526","tt0472043","tt0097733","tt1285016","tt1192628","tt0120647","tt0085407","tt0062765","tt0054997","tt0368891","tt5463162","tt0248667","tt0106977","tt0028212","tt0089941","tt1211956","tt0053125","tt1024648","tt0831387","tt1386703","tt0240772","tt0196229","tt1663662","tt0215750","tt0910970","tt0071402","tt0068931","tt0814255","tt0363771","tt0071562","tt1133985","tt0120913","tt0087078","tt0295701","tt0213149","tt1229340","tt0822847","tt1648190","tt2119532","tt0082348","tt1189340","tt0093565","tt0086250","tt0187393","tt4276820","tt0096895","tt0186566","tt0061722","tt0119567","tt0099810","tt1023114","tt0116629","tt0077745","tt0905372","tt0097576","tt1453405","tt3501632","tt1979320","tt1670345","tt0080678","tt0120746","tt0119643","tt0246276","tt1343727","tt0134847","tt1298650","tt1568911","tt0803096","tt0230011","tt0490215","tt2024469","tt1840309","tt3079380","tt0293662","tt1074638","tt0437086","tt0499549","tt1663202","tt0429493","tt0087363","tt2310332","tt0172495","tt1853728","tt0099044","tt0120611","tt0499448","tt0114746","tt0090060","tt0088847","tt0073092","tt1605630","tt2265171","tt0071877","tt0848228","tt1790864","tt2294629","tt0119008","tt0183790","tt5606664","tt0108160","tt0038650","tt4272866","tt7286456","tt2935510","tt1454468","tt0286106","tt0119116","tt1623288","tt0056217","tt1172233","tt7349950","tt2369135","tt3315342","tt0033467","tt0067800","tt0325710","tt0397535","tt0099685","tt0119488","tt1800241","tt1951266","tt0094012","tt0458481","tt0060897","tt0266308","tt1189073","tt0099487","tt0096438","tt0379786","tt0089374","tt6823368","tt1014759","tt0102138","tt0098206","tt0114369","tt0441773","tt0085333","tt0066999","tt0093058","tt0093777","tt0078788","tt0371724","tt1438176","tt0088172","tt0120685","tt0079116","tt1092026","tt0433035","tt6806448","tt0338526","tt3799694","tt0093640","tt8526872","tt0163988","tt0060196","tt0099423","tt1981115","tt0094226","tt0417741","tt4468740","tt5117670","tt0055928","tt3402236","tt0088930","tt0409182","tt0060315","tt0120912","tt0101452","tt0106220","tt0388482","tt1399103","tt0098141","tt3748528","tt0147800","tt0381849","tt1142977","tt0837562","tt6105098","tt0113497","tt6644200","tt1825683","tt7349662","tt2170439","tt2268016","tt0099674","tt0840361","tt6966692","tt5164214","tt1596345","tt3783958","tt0070666","tt0067116","tt0418763","tt2250912","tt0113492","tt0050212","tt0047296","tt0090863","tt0296572","tt0144214","tt0473075","tt0119177","tt0117438","tt0107206","tt1631867","tt0108052","tt0190590","tt3397884","tt2231461","tt0112864","tt0163025","tt0101410","tt3460252","tt0119528","tt0170016","tt0092644","tt0049456","tt0056195","tt4123430","tt1638355","tt1823672","tt2379713","tt0170691","tt1931533","tt0134273","tt0183649","tt0993789","tt1655442","tt0105695","tt0043137","tt0038574","tt0327056","tt1013753","tt0048545","tt0084602","tt0054215","tt0117665","tt0102059","tt0369610","tt0087277","tt0477080","tt0077651","tt0926084","tt0455944","tt0105793","tt0103776","tt2637276","tt0274166","tt0065528","tt3076658","tt0083944","tt0067927","tt0069436","tt0077474","tt0120744","tt0102798","tt1201607","tt0052618","tt0074896","tt0402894","tt0075860","tt0083866","tt2771200","tt1485796","tt6565702","tt0162661","tt0164052","tt3774114","tt0277434","tt1017451","tt2720680","tt0366551","tt0031334","tt0091203","tt0086567","tt0209163","tt0057413","tt0087800","tt1790809","tt0021814","tt0268380","tt1013743","tt0070895","tt0120201","tt0298203","tt3263904","tt0435651","tt1536537","tt4046784","tt0234215","tt1243957","tt0320691","tt0066026","tt0046912","tt0022100","tt0089175","tt0479884","tt3691740","tt0787474","tt4881806","tt3896198","tt0227445","tt1483013","tt0054953","tt0055824","tt0065207","tt0122933","tt0190138","tt1206543","tt0480249","tt1219827","tt0814314","tt1034303","tt0232500","tt0097659","tt0092675","tt0099329","tt0040724","tt0057298","tt0079945","tt0055304","tt0102803","tt0081573","tt0758774","tt0117381","tt0120669","tt0114814","tt0364569","tt0081398","tt0112641","tt0104691","tt0409459","tt0107207","tt0299977","tt0066206","tt0052415","tt0055630","tt0469494","tt0363163","tt0211915","tt1045658","tt0071315","tt0099785","tt0070917","tt0046268","tt0040897","tt0049902","tt2763304","tt0443706","tt1125849","tt0112851","tt0327850","tt7975244","tt0092965","tt0096754","tt0268978","tt1130884","tt0107048","tt1119646","tt0945513","tt0086879","tt0478087","tt0496806","tt0427944","tt1385826","tt0181689","tt0964517","tt1291584","tt0112442","tt0343818","tt0068768","tt0207201","tt0237534","tt1213641","tt1846589","tt1981128","tt0041931","tt0108358","tt0043014","tt0936501","tt0075029","tt6294822","tt1448755","tt0102744","tt4555426","tt5580390","tt5580036","tt1386697","tt2345759","tt2016940","tt0318627","tt0079103","tt0770828","tt0489099","tt2798920","tt5478478","tt0319061","tt3967856","tt2097298","tt0086200","tt0068935","tt0068767","tt0065134","tt0104431","tt0114508","tt1409024","tt0765429","tt0289848","tt0327247","tt5657846","tt0104714","tt0335345","tt0047849","tt0061512","tt0134119","tt0112722","tt0458352","tt5308322","tt1259521","tt1748122","tt1764234","tt2278388","tt2226597","tt0328107","tt0106856","tt0177971","tt0252866","tt1060277","tt0181852","tt0319343","tt1291150","tt0067355","tt0074442","tt0046672","tt0410297","tt1288558","tt0118607","tt0438488","tt0084827","tt0067328","tt2582782","tt0329575","tt0103285","tt2870612","tt5362988","tt0110638","tt0191754","tt0050086","tt1020558","tt5932728","tt6133130","tt4779682","tt0049513","tt0380599","tt3890160","tt5613484","tt0027977","tt7959026","tt0112461","tt1937390"];

    let movieData = [];

    for (let i = 900; i < 900; i++) {
        let movie = await axios.get('http://www.omdbapi.com/?apikey=c1adbf81&i=' + movieList[i]);
        movieData.push(movie.data);
    }
    return movieData;
}

function ScrapeImdb() {
    const [movies, setMovies] = useState(null);

    useEffect(() => {
        const fetchData = async () => {
            try {
            const selectedMovies = await getMovies();
            setMovies(selectedMovies);
            } catch (error) {
            console.error('Error fetching movies:', error);
            }
        };
    
        fetchData();
        }, []);


  return (
    <div>
    <h2>Movies</h2>
    {movies && (
      <table>
        <thead>
          <tr>
            <th>Title</th>
            <th>Director</th>
            <th>Year</th>
          </tr>
        </thead>
        <tbody>
          {movies.map((movie, index) => (
            <tr key={index}>
              <td>{movie.Title}</td>
              <td>{movie.Director}</td>
              <td>{movie.Year}</td>
              <td>{movie.Actors}</td>
              <td>{movie.Awards}</td>
              <td>{movie.BoxOffice}</td>
              <td>{movie.Country}</td>
              <td>{movie.Genre}</td>
              <td>{movie.Language}</td>
              <td>{movie.Metascore}</td>
              <td>{movie.Poster}</td>
              <td>{movie.Rated}</td>
              <td>{movie.Runtime}</td>
              <td>{movie.Writer}</td>
              <td>{movie.imdbID}</td>
              <td>{movie.imdbRating}</td>
            </tr>
          ))}
        </tbody>
      </table>
    )}
  </div>
  )
}

export default ScrapeImdb